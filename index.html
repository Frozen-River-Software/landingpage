<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Frozen River Software ‚Äî From the field to the Cloud</title>
  <meta name="description" content="I build simple, dependable software to make everyday work smoother. Less paperwork, more progress." />
  <link rel="canonical" href="https://www.frozenriversoftware.com/" />
  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Frozen River Software ‚Äî From the field to the Cloud" />
  <meta property="og:description" content="I build simple, dependable software to make everyday work smoother. Less paperwork, more progress." />
  <meta property="og:image" content="/assets/og.png" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Frozen River Software" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Frozen River Software ‚Äî From the field to the Cloud" />
  <meta name="twitter:description" content="I build simple, dependable software to make everyday work smoother. Less paperwork, more progress." />
  <meta name="twitter:image" content="/assets/og.png" />
  <link rel="icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
  <meta name="theme-color" content="#0B0F10" />

  <!-- Vercel Analytics (privacy-friendly, no cookies) -->
  <!-- Commented out for local testing - uncomment before deploying to Vercel -->
  <!-- <script defer src="/_vercel/insights/script.js"></script> -->

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;700;800&family=Work+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Brand & theme */
      --brand: #019191;           /* your logo color */
      --brand-hover: #00A5A5;
      --near-black: #091919;      /* your logo dark (also accent background) */

      /* Dark theme palette */
      --bg: #0B0F10;              /* page background */
      --surface-1: #0F1516;       /* cards / sections */
      --surface-2: #111A1B;       /* alt surface */
      --border: #1C2A2B;          /* hairlines */

      --text: #E7F2F2;            /* primary text */
      --muted: #A9C1C1;           /* secondary text */
      --dim: #7D9494;             /* subtle text */
      --focus: #00B3B3;           /* focus ring */
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:"Work Sans", system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
      line-height:1.6;
    }
    a{color:var(--brand); text-decoration:none}
    a:hover{color:var(--brand-hover)}
    a:focus-visible, .btn:focus-visible{outline:2px solid var(--focus); outline-offset:3px}
    img{max-width:100%; height:auto}

    /* Layout */
    .container{max-width:1120px; margin-inline:auto; padding:0 20px}
    header{
      position:sticky; top:0; z-index:40; backdrop-filter:saturate(140%) blur(8px);
      background:color-mix(in oklab, var(--bg) 70%, black 30% / 0.4);
      border-bottom:1px solid var(--border);
    }
    .header-inner{display:flex; align-items:center; justify-content:space-between; height:64px}
    .brand{display:flex; align-items:center; gap:12px; letter-spacing:.2px}
    .brand-logo{height:36px; width:auto; display:block}
    .brand-name{font-family:"Ubuntu", system-ui, sans-serif; font-size:22px; line-height:1; font-weight:500}
    .tm{font-size:.6em; vertical-align:super; margin-left:2px; color:var(--muted)}

    nav a{color:var(--muted); margin-left:20px}
    nav a:hover{color:var(--text)}

    .section{padding:72px 0; scroll-margin-top:80px}
    main{will-change: filter, transform}
    .section.alt{background:var(--surface-1); border-block:1px solid var(--border)}
    .h1{font-family:Manrope, system-ui, sans-serif; font-weight:800; letter-spacing:-.02em; line-height:1.15; font-size:clamp(32px, 5vw, 48px)}
    .h2{font-family:Manrope, system-ui, sans-serif; font-weight:800; letter-spacing:-.01em; line-height:1.2; font-size:clamp(22px, 3.2vw, 28px); margin:0 0 10px}
    .lede{color:var(--muted); font-size:1.125rem}

    /* Cards */
    .grid{display:grid; gap:20px}
    @media(min-width:768px){ .grid.cols-2{grid-template-columns:1fr 1fr} .grid.cols-3{grid-template-columns:repeat(3,1fr)} }
    .card{background:var(--surface-1); border:1px solid var(--border); border-radius:16px; padding:20px; transition:transform .2s ease, box-shadow .2s ease}
    .card:hover{transform:translateY(-2px)}

    /* Buttons */
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:12px 16px; border-radius:12px; font-weight:600; border:1px solid transparent}
    .btn.primary{background:var(--brand); color:#001;}
    .btn.primary:hover{background:var(--brand-hover)}
    .btn.ghost{border-color:var(--border); color:var(--text); background:transparent}
    .btn.ghost:hover{border-color:var(--brand); color:var(--brand)}

    /* Timeline */
    .timeline{position:relative; padding-left:28px}
    .timeline::before{content:""; position:absolute; left:10px; top:4px; bottom:4px; width:2px; background:var(--border)}
    .titem{position:relative; margin:0 0 18px}
    .titem::before{content:""; position:absolute; left:-28px; top:6px; width:12px; height:12px; border-radius:50%; background:var(--brand)}
    
    /* Project roadmap cards */
    .project-roadmap{display:flex; gap:16px; margin-top:20px; overflow-x:auto; padding-bottom:10px; scroll-snap-type:x mandatory; user-select:none; -webkit-user-select:none}
    .project-roadmap::-webkit-scrollbar{height:8px}
    .project-roadmap::-webkit-scrollbar-track{background:var(--surface-1); border-radius:999px}
    .project-roadmap::-webkit-scrollbar-thumb{background:var(--border); border-radius:999px}
    .project-roadmap::-webkit-scrollbar-thumb:hover{background:var(--brand)}
    .project-card{background:var(--surface-2); border:1px solid var(--border); border-radius:12px; padding:20px; position:relative; overflow:hidden; min-width:320px; max-width:350px; scroll-snap-align:start; flex-shrink:0}
    .project-card::before{content:""; position:absolute; top:0; left:0; right:0; height:3px; background:var(--brand); opacity:0.5}
    .project-card.paused::before{background:var(--dim); opacity:0.3}
    .project-header{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; margin-bottom:12px}
    .project-icon{font-size:24px; line-height:1}
    .project-title{font-weight:700; font-size:1.1rem; margin:0; flex:1}
    .project-status{display:inline-flex; align-items:center; padding:4px 10px; border-radius:999px; font-size:.8rem; font-weight:600; white-space:nowrap}
    .project-status.alpha{background:rgba(1,145,145,.2); color:var(--brand); border:1px solid rgba(1,145,145,.4)}
    .project-status.dev{background:rgba(100,100,255,.15); color:#8b9bff; border:1px solid rgba(100,100,255,.3)}
    .project-status.paused{background:rgba(125,148,148,.15); color:var(--dim); border:1px solid rgba(125,148,148,.3)}
    .project-status.planned{background:rgba(255,200,100,.15); color:#ffb366; border:1px solid rgba(255,200,100,.3)}
    .progress-bar-wrap{background:var(--surface-1); border-radius:999px; height:8px; margin:16px 0 12px; overflow:hidden; position:relative}
    .progress-bar{height:100%; background:linear-gradient(90deg, var(--brand), var(--brand-hover)); border-radius:999px; transition:width .5s ease}
    .progress-bar.paused{background:linear-gradient(90deg, var(--dim), var(--muted))}
    .progress-label{display:flex; align-items:center; justify-content:space-between; font-size:.85rem; color:var(--muted); margin-bottom:8px}
    .project-next{color:var(--muted); font-size:.95rem; margin:8px 0 0; display:flex; align-items:flex-start; gap:6px}
    .project-next::before{content:"‚Üí"; color:var(--brand); font-weight:bold; flex-shrink:0}
    .project-desc{color:var(--muted); font-size:.9rem; line-height:1.5; margin:8px 0 12px}
    .project-action{margin-top:16px; padding-top:16px; border-top:1px solid var(--border)}
    .muted{color:var(--dim)}
    .card-title{font-family:Manrope, system-ui, sans-serif; font-weight:800; font-size:20px; margin:0 0 8px}
    .actions{margin-top:12px; display:flex; gap:10px; flex-wrap:wrap}
    .btn[aria-disabled="true"]{opacity:.6; pointer-events:none}

    /* Projects */
    .media{border:1px solid var(--border); border-radius:12px; overflow:hidden; background:var(--surface-2)}
    .media img{display:block; width:100%; height:auto}
    .badge{display:inline-flex; align-items:center; height:22px; padding:0 8px; border-radius:999px; font-size:.8rem; font-weight:600; background:var(--surface-2); border:1px solid var(--border); color:var(--muted)}
    .badge.pilot{background:color-mix(in oklab, var(--brand) 20%, transparent); color:var(--text); border-color:color-mix(in oklab, var(--brand) 40%, var(--border))}
    .badge.alpha{background:#2a1b33; border-color:#3a2b43; color:#d7c3e9}
    .badge.soon{background:#1b2a33; border-color:#2b3a43; color:#c3d7e9}
    .tags{display:flex; gap:6px; list-style:none; margin:0; padding:0}
    .tags .tag{font-size:.75rem; padding:2px 8px; border-radius:999px; background:var(--surface-2); border:1px solid var(--border); color:var(--dim)}

    /* Roadmap badges */
    .badge.stage{margin-left:8px}

    /* Projects sticky aside */
    .proj-layout{display:grid; gap:16px; grid-template-columns:1fr}
    .proj-main{min-width:0}
    @media(min-width:1024px){
      .proj-layout{grid-template-columns:1fr}
      .proj-aside{position:sticky; top:88px}
    }

    /* Contact layout tweaks */
    #contact .grid > .reveal:first-child{align-self:stretch}
    #updates-card{height:100%; display:flex; flex-direction:column}

    /* Footer (enterprise feel) */
    footer{border-top:1px solid var(--border); padding:28px 0 20px}
    footer a{color:var(--muted)}
    footer a:hover{color:var(--text)}
    footer .f-wrap{display:grid; gap:22px; margin-bottom:16px}
    @media(min-width:768px){ footer .f-wrap{grid-template-columns:repeat(4, minmax(0,1fr))} }
    footer .f-col{min-width:0}
    @media(min-width:768px){ footer .f-col{padding-right:16px; border-right:1px solid var(--border)} footer .f-col:last-child{border-right:none; padding-right:0} }
    footer .f-col h4{font-family:Manrope, system-ui, sans-serif; font-weight:800; font-size:12px; letter-spacing:.08em; text-transform:uppercase; margin:0 0 10px; color:var(--muted)}
    footer .f-col ul{list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:8px}
    footer .f-col ul li{font-size:.95rem}
    footer .f-bottom{display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px; padding-top:14px; border-top:1px solid var(--border); color:var(--muted); font-size:.95rem}

    /* Mail modal */
    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.5); z-index:80}
    .modal.show{display:flex}
    .modal-box{width:min(560px, 92vw); background:var(--surface-1); border:1px solid var(--border); border-radius:16px; padding:16px}
    .modal-close{position:absolute; right:16px; top:16px; width:32px; height:32px; border:1px solid var(--border); background:transparent; color:var(--muted); border-radius:8px; cursor:pointer}
    .modal label{display:block; font-weight:600; margin:10px 0 6px; color:var(--muted)}
    .modal input[type=text], .modal input[type=email], .modal textarea{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:var(--surface-2); color:var(--text)}
    .modal textarea{min-height:140px; resize:vertical}

    /* Floating website card (popup-like) */
    #web-float{position:fixed; right:24px; top:88px; width:320px; max-width:92vw; background:var(--surface-1); border:1px solid var(--border); border-radius:16px; box-shadow:0 12px 28px rgba(0,0,0,.45); padding:14px; z-index:100; opacity:0; transform:translateY(-8px); pointer-events:none; transition:opacity .25s ease, transform .25s ease}
    #web-float.show{opacity:1; transform:translateY(0); pointer-events:auto}
    /* Hide card but show a bit of edge when collapsed */
    #web-float.collapsed{transform:translateY(0) translateX(calc(100% - 8px));}
    /* Vertical heading text - always visible on the side */
    #web-float .web-edge-text{position:absolute; left:3px; top:50%; transform:translateY(-50%) rotate(180deg); writing-mode:vertical-rl; text-orientation:mixed; font-size:20px; font-weight:700; color:var(--text); pointer-events:none; white-space:nowrap}
    /* Arrow on the left edge */
    #web-float.collapsed::before{content:'\2039'; position:absolute; left:-32px; top:0; bottom:0; width:32px; display:flex; align-items:center; justify-content:center; color:var(--brand); font-size:40px; line-height:1}
    #web-float.show:not(.collapsed)::after{content:'\203A'; position:absolute; left:-32px; top:0; bottom:0; width:32px; display:flex; align-items:center; justify-content:center; color:var(--brand); font-size:40px; line-height:1; opacity:.95}
    /* Click target for arrow */
    #web-float .web-edge{position:absolute; left:-32px; top:0; bottom:0; width:32px; background:transparent; border:none; cursor:pointer}
    /* Arrow glow hint */
    @keyframes glowcycle{
      0%,50%,100%{ opacity:.85; text-shadow:0 0 0 var(--brand); }
      8%,16%,24%{ opacity:1; text-shadow:0 0 14px var(--brand), 0 0 28px var(--brand); }
    }
    #web-float.hint-cycling.collapsed::before{ animation:glowcycle 6s ease-in-out infinite }
    #web-float.hint-cycling.show:not(.collapsed)::after{ animation:glowcycle 6s ease-in-out infinite }

    /* Focus list */
    .focus-list{list-style:none; margin:10px 0 0; padding:0; display:grid; gap:10px}
    @media(min-width:768px){ .focus-list{grid-template-columns:1fr 1fr} }
    @media(min-width:1024px){ .focus-list{grid-template-columns:repeat(3,1fr)} }
    .focus-item{display:flex; gap:12px; align-items:flex-start; padding:12px; border:1px solid var(--border); border-radius:16px; background:var(--surface-2)}
    .chip{width:28px; height:28px; border-radius:50%; background:var(--brand); color:#001; display:inline-flex; align-items:center; justify-content:center; flex:0 0 28px}
    .focus-title{font-weight:700}

    /* Tabs layout */
    .focus-tabs{display:grid; gap:12px}
    @media(min-width:768px){ .focus-tabs{grid-template-columns: 1fr 2fr} }
    .ftablist{display:flex; gap:8px; flex-wrap:wrap}
    @media(min-width:768px){ .ftablist{display:flex; flex-direction:column} }
    .ftab{display:flex; align-items:center; gap:10px; padding:10px 12px; border:1px solid var(--border); background:var(--surface-2); color:var(--text); border-radius:12px; cursor:pointer}
    .ftab[aria-selected="true"]{border-color:var(--brand); box-shadow:0 0 0 2px color-mix(in oklab, var(--brand) 70%, transparent 30%)}
    .ftab:hover{border-color:var(--brand); color:var(--brand)}
    .fpanels{position:relative}
    .fpanel{border:1px solid var(--border); background:var(--surface-1); border-radius:12px; padding:12px}
    .fp-list{margin:0; padding:0 0 0 18px}

    /* Forms */
    input[type=email], input[type=text], textarea{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--border); background:var(--surface-2); color:var(--text)}
    input[type=email]:focus, input[type=text]:focus, textarea:focus{outline:2px solid var(--focus); outline-offset:2px; border-color:transparent}

    /* Footer */
    footer{border-top:1px solid var(--border); padding:28px 0; color:var(--dim)}

    /* Reveal */
    .reveal{opacity:0; transform:translateY(12px)}
    .reveal.show{opacity:1; transform:none; transition:opacity .5s ease, transform .5s ease}

    @media (prefers-reduced-motion: reduce){
      .reveal{opacity:1; transform:none}
      .reveal.show{opacity:1; transform:none; transition:none}
    }

    /* Skip link */
    .skip-link{position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden}
    .skip-link:focus{left:12px; top:12px; width:auto; height:auto; padding:10px 12px; background:var(--surface-1); color:var(--text); border:1px solid var(--border); border-radius:8px; z-index:100}
    
    /* Simple target highlight for in-page navigation */
    .section{position:relative}
    .section:target::before{content:""; position:absolute; left:0; top:0; height:3px; width:100%; background:linear-gradient(90deg, var(--brand), var(--brand-hover)); transform:scaleX(0); transform-origin:left center; animation:targetBar .7s cubic-bezier(.2,.8,.2,1) forwards}
    @keyframes targetBar{ from{transform:scaleX(0)} to{transform:scaleX(1)} }
    @media (prefers-reduced-motion: reduce){ .section:target::before{animation:none} }

    /* Loading indicator */
    .loading-overlay{position:fixed; inset:0; background:var(--bg); display:flex; align-items:center; justify-content:center; z-index:9999; transition:opacity .4s ease, visibility .4s ease}
    .loading-overlay.loaded{opacity:0; visibility:hidden}
    .spinner{width:48px; height:48px; border:4px solid var(--border); border-top-color:var(--brand); border-radius:50%; animation:spin 0.8s linear infinite}
    @keyframes spin{ to{transform:rotate(360deg)} }
    
    /* Scroll hint */
    .scroll-hint{text-align:center; margin-top:32px; color:var(--muted); font-size:.9rem; font-weight:500; animation:scrollPulse 3s ease-in-out infinite}
    .scroll-hint .arrows{display:block; font-size:1.5rem; margin-top:4px; animation:scrollBounce 3s ease-in-out infinite}
    @keyframes scrollPulse{
      0%, 100%{ opacity:.5; }
      50%{ opacity:1; }
    }
    @keyframes scrollBounce{
      0%, 100%{ transform:translateY(0); }
      50%{ transform:translateY(6px); }
    }
    @media (prefers-reduced-motion: reduce){
      .scroll-hint, .scroll-hint .arrows{ animation:none; }
    }
  </style>

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Frozen River Software",
    "url": "https://www.frozenriversoftware.com",
    "logo": "https://www.frozenriversoftware.com/assets/logo.svg",
    "description": "Smart document tools and AI-powered invoice processing for tradespeople and small businesses.",
    "founder": {
      "@type": "Person",
      "name": "Frozen River Software"
    },
    "address": {
      "@type": "PostalAddress",
      "addressRegion": "Alberta",
      "addressCountry": "CA"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "info@frozenriversoftware.com",
      "contactType": "Customer Service"
    },
    "sameAs": [
      "https://github.com/Frozen-River-Software"
    ]
  }
  </script>
  <script>
    // Git-backed content loader: fetches /content.json (if present) and populates the page.
    // Edit flow: change content.json in your repo ‚Üí commit ‚Üí host redeploys (zero downtime).
    (function(){
      const defaults = {
        hero: {
          heading: "From the field to the Cloud.",
          sub: "I‚Äôm an electrician and sheet metal worker turned developer ‚Äî creating simple, dependable apps to make everyday work smoother. Less paperwork, more progress.",
          ctaRoadmap: "See what‚Äôs in the works",
          ctaContact: "Get in touch"
        },
        about: {
          h2: "Where hard work meets clean code.",
          p1: "Frozen River Software started when I realized the tools I was building for myself could help others too. What began as a few scripts and experiments has turned into a growing collection of practical apps for tradespeople, small businesses, and anyone tired of juggling paperwork.",
          p2: "I‚Äôm not a big company ‚Äî it‚Äôs just me (and a rotating cast of prototypes). But I take pride in building software that actually helps. Real‚Äëworld tested, clearly documented, and built with the same care I used to put into every install and service call.",
          exp: [
            "15+ years in the trades ‚Äî residential & commercial installation and service",
            "Worked with homeowners, corporations, and government institutions"
          ],
          stack: {
            frontend: "React, Next.js, Expo",
            backend: "NestJS, Node, TypeScript",
            db: "PostgreSQL / SQLite (Drizzle)",
            infra: "Vercel, Cloudflare, GitHub Actions",
            ai: "OpenAI + local OCR & image recovery"
          }
        },
        projects: {
          items: [
            { title: "Job scheduling & invoicing app", body: "Keeps work organized and cuts down on paperwork. (Name and demo coming soon.)" },
            { title: "PDF measurement tool", body: "Measure scaled drawings right in your browser." },
            { title: "Receipt scanner", body: "AI‚Äëassisted restoration for faded receipts to keep records readable." }
          ],
          rAndD: "Exploring automation to handle the boring parts ‚Äî from job costing to auto‚Äëfilling invoices."
        },
        roadmap: {
          title: "Where things are headed",
          copy: "Currently deep in development ‚Äî building, testing, and occasionally rebuilding. Pilot testing and early feedback will open soon. If you run a small team, service business, or just like trying new tools, I‚Äôll be looking for early testers in the coming weeks and months. I‚Äôd love to hear from you.",
          items: [
            { label: "Now", text: "Core features in active development; private test builds." },
            { label: "Soon", text: "Invite‚Äëonly pilot with a small group for real‚Äëworld feedback." },
            { label: "Next", text: "Public demos and early access sign‚Äëups." }
          ]
        },
        contact: {
          title: "Let‚Äôs talk",
          copy: "If you‚Äôve got a problem worth solving, I‚Äôd love to hear it. Questions, collaborations, or early testing invites ‚Äî all welcome.",
          btn: "Send a message",
          email: "info@your-domain.com",
          onePager: "Download one‚Äëpager (coming soon)",
          webEmail: "web@your-domain.com"
        },
        newsletter: {
          title: "Newsletter",
          copy: "I don‚Äôt spam. I just occasionally overshare progress updates.",
          placeholder: "you@example.com",
          cta: "Join"
        },
        changelog: "This month: fixed 12 bugs, broke 8 new things, progress net = +4."
      };

      function setText(id, val){ const el = document.getElementById(id); if(el && val!=null) el.textContent = val; }
      function setHTML(id, val){ const el = document.getElementById(id); if(el && val!=null) el.innerHTML = val; }
      function setAttr(id, attr, val){ const el = document.getElementById(id); if(el && val!=null) el.setAttribute(attr, val); }

      function populate(c){
        setText('hero-heading', c.hero.heading);
        setText('hero-sub', c.hero.sub);
        setText('cta-roadmap', c.hero.ctaRoadmap);
        setText('cta-contact', c.hero.ctaContact);

        setText('about-h2', c.about.h2);
        setText('about-p1', c.about.p1);
        setText('about-p2', c.about.p2);
        const exp = document.getElementById('exp-list');
        if(exp){ exp.innerHTML=''; (c.about.exp||[]).forEach(t=>{ const li=document.createElement('li'); li.textContent=t; exp.appendChild(li); }); }
        setText('stack-frontend', c.about.stack.frontend);
        setText('stack-backend', c.about.stack.backend);
        setText('stack-db', c.about.stack.db);
        setText('stack-infra', c.about.stack.infra);
        setText('stack-ai', c.about.stack.ai);
        if(c.about.stack.tools) setText('stack-tools', c.about.stack.tools);

        // Projects: featured + grid
        const items = c.projects.items||[];
        if(items[0]){
          setText('feat-title', items[0].title);
          setText('feat-body', items[0].body);
          // status
          const fs = document.getElementById('feat-status');
          if(fs && items[0].status){ fs.textContent = items[0].status; fs.classList.add(items[0].status.toLowerCase()); fs.style.display='inline-flex'; }
          // tags
          const ft = document.getElementById('feat-tags');
          if(ft && Array.isArray(items[0].tags) && items[0].tags.length){ ft.innerHTML=''; items[0].tags.forEach(t=>{ const li=document.createElement('li'); li.className='tag'; li.textContent=t; ft.appendChild(li); }); ft.style.display='flex'; }
          // image
          const fmWrap = document.getElementById('feat-media'); const fimg = document.getElementById('feat-img');
          if(fmWrap && fimg && items[0].image){ fimg.src=items[0].image; fmWrap.style.display='block'; }
          // demo
          const fd = document.getElementById('feat-demo'); if(fd && items[0].demoUrl){ fd.href=items[0].demoUrl; fd.style.display='inline-flex'; if(items[0].ctaLabel) fd.textContent = items[0].ctaLabel; }
        }
        for(let i=1;i<Math.min(4, items.length); i++){
          const p = items[i];
          setText(`proj${i-1}-title`, p.title);
          setText(`proj${i-1}-body`, p.body);
          const bs = document.getElementById(`proj${i-1}-status`);
          if(bs && p.status){ bs.textContent=p.status; bs.classList.add(p.status.toLowerCase()); bs.style.display='inline-flex'; }
          const tg = document.getElementById(`proj${i-1}-tags`);
          if(tg && Array.isArray(p.tags) && p.tags.length){ tg.innerHTML=''; p.tags.forEach(t=>{ const li=document.createElement('li'); li.className='tag'; li.textContent=t; tg.appendChild(li); }); tg.style.display='flex'; }
          const demo = document.getElementById(`proj${i-1}-demo`);
          if(demo && p.demoUrl){ demo.href=p.demoUrl; demo.style.display='inline-flex'; if(p.ctaLabel) demo.textContent = p.ctaLabel; }
        }
        setText('projects-randd', c.projects.rAndD);

        setText('roadmap-title', c.roadmap.title);
        setText('roadmap-copy', c.roadmap.copy);
        (c.roadmap.items||[]).forEach((it,i)=>{
          setText(`r${i}-label`, it.label);
          setText(`r${i}-text`, it.text);
          // Add stage badge if label contains an em dash
          const labEl = document.getElementById(`r${i}-label`);
          if(labEl && typeof it.label === 'string' && it.label.includes('‚Äî')){
            const parts = it.label.split('‚Äî');
            const name = (parts[0]||'').trim();
            const stage = (parts[1]||'').trim();
            labEl.textContent = name;
            const parent = labEl.parentElement;
            if(parent){
              let badge = parent.querySelector('.badge.stage');
              if(!badge){ badge = document.createElement('span'); badge.className = 'badge stage'; labEl.insertAdjacentElement('afterend', badge); }
              badge.textContent = stage;
            }
          }
        });

        setText('contact-title', c.contact.title);
        setText('contact-copy', c.contact.copy);
        setText('contact-btn', c.contact.btn);
        setAttr('contact-btn', 'href', `mailto:${c.contact.email}?subject=Inquiry%20from%20Website&body=Hi%20Frozen%20River%20Software%2C%0A%0AI%20came%20across%20your%20website%20and%20wanted%20to%20reach%20out.%0A%0AMy%20inquiry%3A%0A%5BWhat%20you%27d%20like%20to%20discuss%20-%20questions%2C%20collaboration%2C%20testing%2C%20etc%5D%0A%0AAbout%20me%3A%0A%5BYour%20background%2Fbusiness%2Finterest%5D%0A%0AContact%20info%3A%0AName%3A%20%0AEmail%3A%20%0APhone%20%28optional%29%3A%20%0A%0AThanks%21`);
        setText('contact-onepager', c.contact.onePager);
        setAttr('web-quote', 'href', `mailto:${c.contact.webEmail}?subject=Website%20Project%20Inquiry&body=Hi%20Frozen%20River%20Software%2C%0A%0AI%27m%20interested%20in%20discussing%20a%20website%20project.%0A%0AProject%20overview%3A%0A-%20Type%3A%20%5Bbusiness%20site%2Fportfolio%2Flanding%20page%2Fother%5D%0A-%20Pages%20needed%3A%20%5Bnumber%20and%20types%5D%0A-%20Special%20features%3A%20%5Bforms%2Cblog%2Ce-commerce%2Cetc%5D%0A%0AScope%3A%0A%5B%5D%20Build%20and%20hand%20off%0A%5B%5D%20Build%20and%20maintain%0A%0ABudget%20range%3A%20%5Byour%20budget%5D%0ATimeline%3A%20%5Bwhen%20you%20need%20it%5D%0A%0AInspiration%2Freferences%3A%0A%5BLinks%20to%20sites%20you%20like%5D%0A%0AContact%20info%3A%0AName%3A%20%0AEmail%3A%20%0APhone%3A%20%0ACompany%2FBusiness%3A%20%0A%0AThanks%21`);
        setAttr('web-quote-float', 'href', `mailto:${c.contact.webEmail}?subject=Website%20Project%20Inquiry&body=Hi%20Frozen%20River%20Software%2C%0A%0AI%27m%20interested%20in%20discussing%20a%20website%20project.%0A%0AProject%20overview%3A%0A-%20Type%3A%20%5Bbusiness%20site%2Fportfolio%2Flanding%20page%2Fother%5D%0A-%20Pages%20needed%3A%20%5Bnumber%20and%20types%5D%0A-%20Special%20features%3A%20%5Bforms%2Cblog%2Ce-commerce%2Cetc%5D%0A%0AScope%3A%0A%5B%5D%20Build%20and%20hand%20off%0A%5B%5D%20Build%20and%20maintain%0A%0ABudget%20range%3A%20%5Byour%20budget%5D%0ATimeline%3A%20%5Bwhen%20you%20need%20it%5D%0A%0AInspiration%2Freferences%3A%0A%5BLinks%20to%20sites%20you%20like%5D%0A%0AContact%20info%3A%0AName%3A%20%0AEmail%3A%20%0APhone%3A%20%0ACompany%2FBusiness%3A%20%0A%0AThanks%21`);
        const mf = document.getElementById('mail-form');
        if(mf){
          if(c.contact.formEndpoint) mf.dataset.endpoint = c.contact.formEndpoint;
          if(c.contact.webFormEndpoint) mf.dataset.endpointWeb = c.contact.webFormEndpoint;
        }

        setText('nl-title', c.newsletter.title);
        setText('nl-copy', c.newsletter.copy);
        const inp = document.getElementById('subEmail'); if(inp) inp.placeholder = c.newsletter.placeholder;
        setText('nl-cta', c.newsletter.cta);

        setText('changelog', c.changelog);
        const cdate = document.getElementById('changelog-date');
        if(cdate && c.changelogDate) cdate.textContent = c.changelogDate;
        
        // previous update 1 (optional)
        const pw = document.getElementById('changelog-prev-wrap');
        const pdate = document.getElementById('changelog-prev-date');
        const ptxt = document.getElementById('changelog-prev');
        if((c.changelogPrev || c.changelogPrevDate) && pw){
          pw.style.display='block';
          if(pdate) pdate.textContent = c.changelogPrevDate||'';
          if(ptxt) ptxt.textContent = c.changelogPrev||'';
        }
        
        // previous update 2 (optional)
        const pw2 = document.getElementById('changelog-prev-wrap2');
        const pdate2 = document.getElementById('changelog-prev-date2');
        const ptxt2 = document.getElementById('changelog-prev2');
        if((c.changelogPrev2 || c.changelogPrevDate2) && pw2){
          pw2.style.display='block';
          if(pdate2) pdate2.textContent = c.changelogPrevDate2||'';
          if(ptxt2) ptxt2.textContent = c.changelogPrev2||'';
        }
      }

      function merge(a,b){
        if(Array.isArray(a) && Array.isArray(b)) return b;
        if(a && typeof a==='object' && b && typeof b==='object'){
          const out = {...a};
          for(const k of Object.keys(b)) out[k] = merge(a[k], b[k]);
          return out;
        }
        return (b===undefined)? a : b;
      }

      // Wait for DOM to be ready
      function hideLoader(){
        const loader = document.getElementById('loading-overlay');
        if(loader) loader.classList.add('loaded');
      }
      
      fetch('/content.json', {cache:'no-store'})
        .then(r=> r.ok? r.json(): Promise.reject())
        .then(data=> populate(merge(defaults, data)))
        .catch(()=> populate(defaults))
        .finally(hideLoader);
    })();
  </script>
</head>
<body>
  <!-- Loading overlay (temporarily disabled - fix timing issue later) -->
  <div id="loading-overlay" class="loading-overlay" style="display:none">
    <div class="spinner"></div>
  </div>

  <!-- Header -->
  <a href="#main" class="skip-link">Skip to content</a>
  <header>
    <div class="container header-inner">
      <div class="brand">
        <a href="/" aria-label="Home">
          <img src="/assets/logo.svg" alt="" class="brand-logo" />
        </a>
        <span class="brand-name">Frozen River Software <span class="tm" aria-hidden="true">‚Ñ¢</span></span>
      </div>
      <nav aria-label="Primary">
        <a href="#about">About</a>
        <a href="#projects">Projects</a>
        <a href="#roadmap">Roadmap</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <!-- Hero -->
    <section class="section">
      <div class="container grid cols-2">
        <div class="reveal">
          <h1 class="h1" id="hero-heading">Built with hands‚Äëon experience. Coded with purpose.</h1>
          <p class="lede" id="hero-sub">I'm an electrician and sheet metal worker turned developer ‚Äî creating simple, dependable apps to make everyday work smoother. Less paperwork, more progress.</p>
          <div style="margin-top:18px; display:flex; gap:12px; flex-wrap:wrap">
            <a class="btn primary" href="#contact" id="cta-contact">Get in touch</a>
          </div>
        </div>
        <div class="reveal">
          <div class="card" style="background:linear-gradient(135deg, rgba(1,145,145,.08) 0%, transparent 70%); position:relative; overflow:hidden">
            <div style="position:absolute; top:-50px; right:-50px; width:200px; height:200px; border-radius:50%; background:radial-gradient(circle, rgba(1,145,145,.1), transparent); pointer-events:none"></div>
            
            <h3 style="margin:0 0 16px; font-weight:700; font-size:1.2rem; position:relative">What you get</h3>
            
            <div style="display:grid; gap:14px; position:relative">
              <!-- Feature 1 -->
              <div style="display:flex; gap:12px; align-items:flex-start">
                <div style="width:40px; height:40px; border-radius:12px; background:rgba(1,145,145,.15); border:1px solid rgba(1,145,145,.3); display:flex; align-items:center; justify-content:center; flex-shrink:0">
                  <span style="font-size:20px">üì±</span>
                </div>
                <div style="flex:1">
                  <div style="font-weight:600; margin-bottom:4px; font-size:1rem">Smart Capture</div>
                  <p style="margin:0; color:var(--muted); font-size:.9rem; line-height:1.5">Mobile camera with auto-crop, enhancement, and batch processing. Works offline anywhere.</p>
                </div>
              </div>
              
              <!-- Feature 2 -->
              <div style="display:flex; gap:12px; align-items:flex-start">
                <div style="width:40px; height:40px; border-radius:12px; background:rgba(1,145,145,.15); border:1px solid rgba(1,145,145,.3); display:flex; align-items:center; justify-content:center; flex-shrink:0">
                  <span style="font-size:20px">üß†</span>
                </div>
                <div style="flex:1">
                  <div style="font-weight:600; margin-bottom:4px; font-size:1rem">Learns Your Patterns</div>
                  <p style="margin:0; color:var(--muted); font-size:.9rem; line-height:1.5">AI that adapts to your vendors, formats, and categories. Gets smarter with every document.</p>
                </div>
              </div>
              
              <!-- Feature 3 -->
              <div style="display:flex; gap:12px; align-items:flex-start">
                <div style="width:40px; height:40px; border-radius:12px; background:rgba(1,145,145,.15); border:1px solid rgba(1,145,145,.3); display:flex; align-items:center; justify-content:center; flex-shrink:0">
                  <span style="font-size:20px">üîç</span>
                </div>
                <div style="flex:1">
                  <div style="font-weight:600; margin-bottom:4px; font-size:1rem">Auto-Organize</div>
                  <p style="margin:0; color:var(--muted); font-size:.9rem; line-height:1.5">Automatically categorizes and tags. Powerful search across all your documents and data.</p>
                </div>
              </div>
              
              <!-- Feature 4 -->
              <div style="display:flex; gap:12px; align-items:flex-start">
                <div style="width:40px; height:40px; border-radius:12px; background:rgba(1,145,145,.15); border:1px solid rgba(1,145,145,.3); display:flex; align-items:center; justify-content:center; flex-shrink:0">
                  <span style="font-size:20px">üìä</span>
                </div>
                <div style="flex:1">
                  <div style="font-weight:600; margin-bottom:4px; font-size:1rem">Export Anywhere</div>
                  <p style="margin:0; color:var(--muted); font-size:.9rem; line-height:1.5">QuickBooks, Xero, CSV, or custom API. Your data flows where you need it.</p>
                </div>
              </div>
            </div>
            
            <div style="margin-top:18px; padding-top:16px; border-top:1px solid var(--border)">
              <p style="margin:0; font-size:.85rem; color:var(--dim); font-style:italic">Privacy-first: Your data trains your model, not ours. Opt-in sharing available if you want to help improve the system for everyone.</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Scroll hint -->
      <div class="scroll-hint">
        <div>See what's in the works</div>
        <span class="arrows">‚Üì</span>
      </div>
    </section>

    <!-- About -->
    <section id="about" class="section alt">
      <div class="container grid cols-2">
        <div class="reveal">
          <h2 class="h2" id="about-h2">Where hard work meets clean code.</h2>
          <p id="about-p1">Frozen River Software started when I realized the tools I was building for myself could help others too. What began as a few scripts and experiments has turned into a growing collection of practical apps for tradespeople, small businesses, and anyone tired of juggling paperwork.</p>
          <p id="about-p2">I‚Äôm not a big company ‚Äî it‚Äôs just me (and a rotating cast of prototypes). But I take pride in building software that actually helps. Real‚Äëworld tested, clearly documented, and built with the same care I used to put into every install and service call.</p>
        </div>
        <aside class="reveal">
          <div class="card">
            <div style="display:flex; gap:8px; margin-bottom:16px; border-bottom:1px solid var(--border)">
              <button class="exp-tab active" data-tab="background" style="flex:1; padding:10px; border:none; background:transparent; color:var(--text); font-weight:600; cursor:pointer; border-bottom:2px solid transparent; transition:all .2s">
                Background
              </button>
              <button class="exp-tab" data-tab="stack" style="flex:1; padding:10px; border:none; background:transparent; color:var(--muted); font-weight:600; cursor:pointer; border-bottom:2px solid transparent; transition:all .2s">
                Tech Stack
              </button>
            </div>
            
            <!-- Background Tab -->
            <div id="exp-background" class="exp-panel">
              <div style="display:flex; align-items:center; gap:10px; margin-bottom:12px">
                <span style="font-size:28px">üß∞</span>
                <h3 style="margin:0; font-weight:700; font-size:1.1rem">Real-world Experience</h3>
              </div>
              <ul id="exp-list" style="margin:0 0 16px; padding-left:18px; color:var(--muted)">
                <li>15+ years in the trades ‚Äî residential & commercial installation and service</li>
                <li>Worked with homeowners, corporations, and government institutions</li>
              </ul>
              <div style="padding:12px; background:var(--surface-2); border:1px solid var(--border); border-radius:8px">
                <div style="font-size:.9rem; font-weight:600; margin-bottom:6px; color:var(--text)">Why this matters</div>
                <p style="margin:0; font-size:.95rem; color:var(--muted); line-height:1.6">I build tools for problems I've lived. 15+ years in the trades and over 20 years tinkering with code means I understand both the technical side and the real frustration of buried-in-paperwork job sites. Early AI adoption gives me the tools; field experience tells me what's worth building.</p>
              </div>
            </div>
            
            <!-- Stack Tab -->
            <div id="exp-stack" class="exp-panel" style="display:none">
              <div style="display:flex; align-items:center; gap:10px; margin-bottom:12px">
                <span style="font-size:28px">‚ö°</span>
                <h3 style="margin:0; font-weight:700; font-size:1.1rem">Tech Stack</h3>
              </div>
              <div class="grid cols-2" style="gap:12px">
                <div>
                  <div class="muted" style="font-weight:600; margin-bottom:6px; font-size:.85rem; text-transform:uppercase; letter-spacing:.05em">Frontend</div>
                  <div id="stack-frontend" style="font-size:.95rem">React, Next.js, Expo</div>
                </div>
                <div>
                  <div class="muted" style="font-weight:600; margin-bottom:6px; font-size:.85rem; text-transform:uppercase; letter-spacing:.05em">Backend</div>
                  <div id="stack-backend" style="font-size:.95rem">NestJS, Node, TypeScript</div>
                </div>
                <div>
                  <div class="muted" style="font-weight:600; margin-bottom:6px; font-size:.85rem; text-transform:uppercase; letter-spacing:.05em">Database</div>
                  <div id="stack-db" style="font-size:.95rem">PostgreSQL / SQLite (Drizzle)</div>
                </div>
                <div>
                  <div class="muted" style="font-weight:600; margin-bottom:6px; font-size:.85rem; text-transform:uppercase; letter-spacing:.05em">Infrastructure</div>
                  <div id="stack-infra" style="font-size:.95rem">Vercel, Cloudflare, GitHub Actions</div>
                </div>
                <div style="grid-column:1/-1">
                  <div class="muted" style="font-weight:600; margin-bottom:6px; font-size:.85rem; text-transform:uppercase; letter-spacing:.05em">AI & Document Processing</div>
                  <div id="stack-ai" style="font-size:.95rem">OpenAI API, local OCR, and image restoration pipelines</div>
                </div>
                <div style="grid-column:1/-1">
                  <div class="muted" style="font-weight:600; margin-bottom:6px; font-size:.85rem; text-transform:uppercase; letter-spacing:.05em">Development Tools</div>
                  <div id="stack-tools" style="font-size:.95rem">VS Code, Cursor AI, Git/GitHub, Figma, Postman</div>
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects" class="section">
      <div class="container">
        <h2 class="h2">What's shipping now</h2>
        <p class="muted">Focused on document intelligence ‚Äî building the foundation for smarter paperwork.</p>

        <div style="margin-top:24px; display:grid; gap:20px">
          <!-- Active Project 1: Invoice Scanner -->
          <div class="card reveal" style="background:linear-gradient(135deg, rgba(1,145,145,.05) 0%, transparent 50%); border-left:3px solid var(--brand)">
            <div style="display:flex; align-items:flex-start; gap:16px; flex-wrap:wrap">
              <div style="flex:1; min-width:280px">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px">
                  <span style="font-size:32px">üìÑ</span>
                  <div>
                    <h3 style="margin:0; font-weight:700; font-size:1.3rem">Invoice & Receipt Scanner</h3>
                    <span class="badge alpha" style="margin-top:4px; display:inline-flex">Pre-Alpha ‚Ä¢ 35%</span>
                  </div>
                </div>
                <p class="muted" style="margin:10px 0">AI-powered document capture that learns your business patterns. Currently building the foundation ‚Äî depends on the learning system to work its magic.</p>
                
                <div style="margin-top:16px">
                  <strong style="font-size:.9rem; color:var(--muted)">Recent progress:</strong>
                  <ul style="margin:8px 0; padding-left:20px; color:var(--muted); font-size:.95rem">
                    <li>Document capture pipeline architecture</li>
                    <li>OCR integration and data extraction testing</li>
                    <li>Pattern recognition groundwork</li>
                  </ul>
                </div>
              </div>
              <div style="min-width:200px; padding:16px; background:var(--surface-2); border:1px solid var(--border); border-radius:12px">
                <div style="font-size:.85rem; font-weight:600; color:var(--dim); text-transform:uppercase; letter-spacing:.05em; margin-bottom:8px">Coming Next</div>
                <ul style="margin:0; padding-left:18px; color:var(--muted); font-size:.95rem">
                  <li>Mobile app foundation</li>
                  <li>Learning system integration</li>
                  <li>First alpha test builds</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Active Project 2: Learning System -->
          <div class="card reveal" style="background:linear-gradient(135deg, rgba(100,100,255,.05) 0%, transparent 50%); border-left:3px solid #8b9bff">
            <div style="display:flex; align-items:flex-start; gap:16px; flex-wrap:wrap">
              <div style="flex:1; min-width:280px">
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px">
                  <span style="font-size:32px">üß†</span>
                  <div>
                    <h3 style="margin:0; font-weight:700; font-size:1.3rem">Aggregated Learning System</h3>
                    <span class="badge dev" style="margin-top:4px; display:inline-flex">In Development ‚Ä¢ 60%</span>
                  </div>
                </div>
                <p class="muted" style="margin:10px 0">The brain behind the scanner ‚Äî AI that learns your vendor formats, categories, and patterns. Gets smarter with every document you process.</p>
                
                <div style="margin-top:16px">
                  <strong style="font-size:.9rem; color:var(--muted)">Recent progress:</strong>
                  <ul style="margin:8px 0; padding-left:20px; color:var(--muted); font-size:.95rem">
                    <li>Training algorithms on real invoice formats</li>
                    <li>Pattern recognition refinement</li>
                    <li>Vendor classification system</li>
                  </ul>
                </div>
              </div>
              <div style="min-width:200px; padding:16px; background:var(--surface-2); border:1px solid var(--border); border-radius:12px">
                <div style="font-size:.85rem; font-weight:600; color:var(--dim); text-transform:uppercase; letter-spacing:.05em; margin-bottom:8px">Coming Next</div>
                <ul style="margin:0; padding-left:18px; color:var(--muted); font-size:.95rem">
                  <li>Accuracy improvements</li>
                  <li>Multi-document learning</li>
                  <li>Export integrations</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Strategy Note -->
          <div class="card reveal" style="background:rgba(125,148,148,.05); border:1px solid rgba(125,148,148,.2)">
            <div style="display:flex; align-items:center; gap:12px">
              <span style="font-size:28px">üéØ</span>
              <div style="flex:1">
                <strong style="display:block; margin-bottom:6px">Current Strategy</strong>
                <p class="muted" style="margin:0">Shipping these two tools first, then expanding. Avoiding burnout by building focused, useful tools instead of trying to boil the ocean. Other projects (PDF measurement, job scheduling) resume once these launch.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Roadmap -->
    <section id="roadmap" class="section alt">
      <div class="container">
        <h2 class="h2" id="roadmap-title">Where things are headed</h2>
        <p id="roadmap-copy">Building multiple tools, each at different stages. Here's what's cooking:</p>
        
        <div class="project-roadmap">
          <!-- Invoice Scanner -->
          <div class="project-card">
            <div class="project-header">
              <span class="project-icon">üìÑ</span>
              <h3 class="project-title">Invoice & Receipt Scanner</h3>
              <span class="project-status alpha">Pre-Alpha</span>
            </div>
            <p class="project-desc">AI-powered document capture and organization. Depends heavily on the learning system to extract and categorize data intelligently.</p>
            <div class="progress-label">
              <span>Development Progress</span>
              <span>35%</span>
            </div>
            <div class="progress-bar-wrap">
              <div class="progress-bar" style="width:35%"></div>
            </div>
            <p class="project-next">Waiting on learning system, then mobile app and UX polish</p>
            <div class="project-action">
              <a class="btn ghost" style="width:100%; justify-content:center" href="#" id="apply-invoice">Request early access</a>
            </div>
          </div>

          <!-- Learning System -->
          <div class="project-card">
            <div class="project-header">
              <span class="project-icon">üß†</span>
              <h3 class="project-title">Aggregated Learning System</h3>
              <span class="project-status dev">In Development</span>
            </div>
            <p class="project-desc">Core AI engine that learns your business patterns, vendor formats, and data structures. Foundation for intelligent document processing.</p>
            <div class="progress-label">
              <span>Development Progress</span>
              <span>60%</span>
            </div>
            <div class="progress-bar-wrap">
              <div class="progress-bar" style="width:60%"></div>
            </div>
            <p class="project-next">Training on real-world documents, refining accuracy and pattern recognition</p>
            <div class="project-action">
              <a class="btn ghost" style="width:100%; justify-content:center" href="#" id="apply-learning">Help test the AI</a>
            </div>
          </div>

          <!-- PDF Tool -->
          <div class="project-card">
            <div class="project-header">
              <span class="project-icon">üìê</span>
              <h3 class="project-title">PDF Measurement Tool</h3>
              <span class="project-status dev">Working Beta</span>
            </div>
            <p class="project-desc">Desktop app for measuring scaled drawings. Core functionality works but needs UI polish and integration with other tools to add value.</p>
            <div class="progress-label">
              <span>Development Progress</span>
              <span>65%</span>
            </div>
            <div class="progress-bar-wrap">
              <div class="progress-bar" style="width:65%"></div>
            </div>
            <p class="project-next">UI redesign, then integrate with takeoff and estimation workflows</p>
            <div class="project-action">
              <a class="btn ghost" style="width:100%; justify-content:center" href="#" id="apply-pdf">Join beta testing</a>
            </div>
          </div>

          <!-- Job Scheduling -->
          <div class="project-card paused">
            <div class="project-header">
              <span class="project-icon">üìÖ</span>
              <h3 class="project-title">Job Scheduling App</h3>
              <span class="project-status paused">On Hold</span>
            </div>
            <p class="project-desc">Comprehensive job management system with scheduling, dispatch, and crew coordination. Paused to avoid burnout and ship focused tools first.</p>
            <div class="progress-label">
              <span>Development Progress</span>
              <span>40%</span>
            </div>
            <div class="progress-bar-wrap">
              <div class="progress-bar paused" style="width:40%"></div>
            </div>
            <p class="project-next">Resume after document tools launch with real user feedback and lessons learned</p>
            <div class="project-action">
              <a class="btn ghost" style="width:100%; justify-content:center" href="#" id="apply-scheduling">Stay notified</a>
            </div>
          </div>
        </div>

        <div style="margin-top:24px; text-align:center">
          <p class="muted" style="margin-bottom:12px">Want to test early builds or have feedback on priorities?</p>
          <a class="btn ghost" href="#" id="btn-pilot">Volunteer for pilot</a>
        </div>
      </div>
    </section>

    <!-- Contact + Newsletter -->
    <section id="contact" class="section">
      <div class="container grid cols-2">
        <div class="reveal" style="display:flex; flex-direction:column; gap:16px">
          <!-- Updates (left) -->
          <div class="card" id="updates-card" style="position:relative; overflow:hidden">
            <div style="position:absolute; top:0; right:0; width:100px; height:100px; background:radial-gradient(circle at top right, rgba(1,145,145,0.1), transparent); pointer-events:none"></div>
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:12px">
              <h3 class="card-title" style="margin:0">Latest Updates</h3>
            </div>
            
            <!-- Current update -->
            <div style="padding:12px; background:var(--surface-2); border:1px solid var(--border); border-left:3px solid var(--brand); border-radius:8px; margin-bottom:12px">
              <div style="display:flex; align-items:center; gap:8px; margin-bottom:6px">
                <span id="changelog-date" style="font-weight:600; color:var(--brand); font-size:.9rem"></span>
                <span style="display:inline-block; width:4px; height:4px; background:var(--muted); border-radius:50%"></span>
                <span style="font-size:.85rem; color:var(--dim); text-transform:uppercase; letter-spacing:.05em">Latest</span>
              </div>
              <p id="changelog" style="margin:0; color:var(--text); line-height:1.6">This month: fixed 12 bugs, broke 8 new things, progress net = +4.</p>
            </div>
            
            <!-- Previous updates -->
            <div id="changelog-prev-wrap" style="display:none; padding:10px; background:rgba(255,255,255,.02); border:1px solid rgba(255,255,255,.05); border-radius:6px; margin-bottom:10px">
              <div style="display:flex; align-items:center; gap:6px; margin-bottom:4px">
                <span id="changelog-prev-date" style="font-size:.85rem; color:var(--muted)"></span>
              </div>
              <p id="changelog-prev" style="margin:0; color:var(--muted); font-size:.95rem; line-height:1.5"></p>
            </div>
            
            <div id="changelog-prev-wrap2" style="display:none; padding:10px; background:rgba(255,255,255,.02); border:1px solid rgba(255,255,255,.05); border-radius:6px">
              <div style="display:flex; align-items:center; gap:6px; margin-bottom:4px">
                <span id="changelog-prev-date2" style="font-size:.85rem; color:var(--muted)"></span>
              </div>
              <p id="changelog-prev2" style="margin:0; color:var(--muted); font-size:.95rem; line-height:1.5"></p>
            </div>
          </div>
        </div>

        <!-- Right column: Contact then Newsletter -->
        <aside class="reveal" style="display:flex; flex-direction:column; gap:16px; justify-content:flex-end">
          <div class="card" id="contact-card">
            <h3 class="card-title" id="contact-title">Let‚Äôs talk</h3>
            <p id="contact-copy">If you‚Äôve got a problem worth solving, I‚Äôd love to hear it. Questions, collaborations, or early testing invites ‚Äî all welcome.</p>
            <div class="actions">
              <a id="contact-btn" class="btn primary" href="mailto:info@frozenriversoftware.com">Send a message</a>
              <a class="btn ghost" href="assets/one-pager.pdf" target="_blank" rel="noopener" id="contact-onepager" title="View one‚Äëpager (PDF)">View one‚Äëpager (PDF)</a>
            </div>
          </div>
          <div class="card">
            <h3 class="card-title" id="nl-title">Newsletter</h3>
            <p id="nl-copy" class="muted" style="margin:6px 0 10px">I don‚Äôt spam. I just occasionally overshare progress updates.</p>
            <form
              action="https://buttondown.com/api/emails/embed-subscribe/frozenriver"
              method="post"
              target="popupwindow"
              onsubmit="window.open('https://buttondown.com/frozenriver', 'popupwindow')"
            >
              <label for="subEmail" class="muted" style="display:block; margin-bottom:8px">Email</label>
              <div style="display:flex; gap:10px; align-items:center">
                <input type="email" name="email" id="subEmail" placeholder="you@example.com" required />
                <button class="btn primary" type="submit" id="nl-cta">Join</button>
              </div>
              <input type="hidden" value="true" name="embed" />
            </form>
            <p style="margin-top:10px">
              <a class="muted" href="https://buttondown.com/refer/frozenriver" target="_blank" rel="noopener noreferrer">Powered by Buttondown</a>
            </p>
            <div id="nl-msg" class="muted" style="display:none; margin-top:12px; padding:12px; background:var(--surface-2); border:1px solid var(--border); border-radius:8px"></div>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="f-wrap">
        <div class="f-col">
          <h4>Product</h4>
          <ul>
            <li><a href="#roadmap">Roadmap</a></li>
            <li><a href="#updates-card">Updates</a></li>
            <li><a href="/blog/index.html">Blog</a></li>
            <li><a href="assets/one-pager.pdf" target="_blank" rel="noopener">One‚Äëpager (PDF)</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>Resources</h4>
          <ul>
            <li><a href="/faq.html">FAQ</a></li>
            <li><a href="privacy.html">Privacy</a></li>
            <li><a href="terms.html">Terms</a></li>
            <li><a href="accessibility.html">Accessibility</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>Security & Data</h4>
          <ul>
            <li><a href="responsible-disclosure.html">Responsible Disclosure</a></li>
            <li><a href="subprocessors.html">Subprocessors</a></li>
            <li><a href="sitemap.xml">Sitemap</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>Company</h4>
          <ul>
            <li><a href="mailto:info@frozenriversoftware.com">Contact</a></li>
            <li><a href="https://github.com/Frozen-River-Software" target="_blank" rel="noopener">GitHub</a></li>
            <li class="muted">Alberta, Canada</li>
          </ul>
        </div>
      </div>
      <div class="f-bottom">
        <div>¬© <span id="year"></span> Frozen River Software</div>
        <div>Frozen River Software and the logo are trademarks of Frozen River Software.</div>
      </div>
    </div>
  </footer>

  <!-- Floating website services card -->
  <div id="web-float" aria-live="polite" aria-label="Website services" aria-expanded="true">
    <button class="web-edge" type="button" aria-label="Collapse or expand"></button>
    <span class="web-edge-text">Need a website?</span>
    <div style="display:flex; flex-direction:column; gap:8px; padding-left:28px">
      <p class="muted" style="margin:0">I take on small website projects when I have room. I can build it and hand it off, or build &amp; maintain it for you.</p>
      <div class="actions" style="margin-top:6px">
        <a id="web-quote-float" class="btn ghost" href="mailto:web@frozenriversoftware.com">Start a conversation</a>
      </div>
    </div>
  </div>

  <!-- Mail modal -->
  <div id="mail-modal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="mail-title">
    <div class="modal-box">
      <button class="modal-close" type="button" aria-label="Close">√ó</button>
      <h3 id="mail-title" class="card-title">Send a message</h3>
      <form id="mail-form" data-endpoint="">
        <label for="mail-name">Your name (optional)</label>
        <input id="mail-name" type="text" placeholder="" />
        <label for="mail-from">Your email <span style="color:var(--brand)">*</span></label>
        <input id="mail-from" type="email" placeholder="you@example.com" required />
        <label for="mail-subject">Subject</label>
        <input id="mail-subject" type="text" placeholder="General inquiry" />
        <label for="mail-body">Message</label>
        <textarea id="mail-body" placeholder="Your message here..."></textarea>
        <input type="text" id="mail-website" name="website" style="position:absolute; left:-9999px; width:1px; height:1px; opacity:0" tabindex="-1" aria-hidden="true" />
        <div class="actions" style="margin-top:12px">
          <button class="btn primary" type="submit">Send</button>
          <button class="btn ghost" type="button" id="mail-open-email">Open in email app</button>
          <button class="btn ghost" type="button" id="mail-cancel">Cancel</button>
        </div>
        <div id="mail-status" class="muted" style="display:none; margin-top:8px"></div>
      </form>
    </div>
  </div>

  <script>
    // Auto year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Simple reveal on scroll
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target); } });
    }, {threshold: 0.1});
    document.querySelectorAll('.reveal').forEach(el=> io.observe(el));

    // Enhanced newsletter signup feedback
    (function(){
      const form = document.querySelector('#contact form[action*="buttondown.com"]');
      if(!form) return;
      const btn = form.querySelector('#nl-cta');
      const msg = document.getElementById('nl-msg');
      const input = form.querySelector('#subEmail');
      
      form.addEventListener('submit', (e)=>{
        // Show loading state
        if(btn){ 
          btn.textContent = 'Subscribing...'; 
          btn.disabled = true;
        }
        
        // Show success message after brief delay
        setTimeout(()=>{
          if(btn){ 
            btn.textContent = 'Subscribed ‚úì'; 
            btn.style.background = '#059669';
          }
          if(msg){ 
            msg.textContent = '‚úì Thanks! Check your inbox to confirm your subscription. You can unsubscribe anytime.';
            msg.style.display = 'block';
            msg.style.color = 'var(--text)';
            msg.style.borderColor = 'var(--brand)';
          }
          if(input) input.value = '';
        }, 1000);
      });
      
      // Reset on new input
      if(input){
        input.addEventListener('input', ()=>{
          if(btn && btn.disabled){
            btn.disabled = false;
            btn.textContent = 'Join';
            btn.style.background = '';
            if(msg) msg.style.display = 'none';
          }
        });
      }
    })();

    // Experience & Stack tabs
    (function(){
      const tabs = document.querySelectorAll('.exp-tab');
      const panels = document.querySelectorAll('.exp-panel');
      tabs.forEach(tab => {
        tab.addEventListener('click', ()=>{
          const target = tab.dataset.tab;
          // Update tabs
          tabs.forEach(t => {
            const isActive = t.dataset.tab === target;
            t.classList.toggle('active', isActive);
            t.style.color = isActive ? 'var(--text)' : 'var(--muted)';
            t.style.borderBottomColor = isActive ? 'var(--brand)' : 'transparent';
          });
          // Update panels
          document.getElementById('exp-background').style.display = target==='background' ? 'block' : 'none';
          document.getElementById('exp-stack').style.display = target==='stack' ? 'block' : 'none';
        });
      });
    })();

    // Drag to scroll for project roadmap
    (function(){
      const slider = document.querySelector('.project-roadmap');
      if(!slider) return;
      let isDown = false;
      let startX;
      let scrollLeft;
      slider.addEventListener('mousedown', (e)=>{
        if(e.target.closest('a, button')) return; // Don't drag when clicking links/buttons
        isDown = true;
        slider.style.cursor = 'grabbing';
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
      });
      slider.addEventListener('mouseleave', ()=>{ isDown = false; slider.style.cursor = 'grab'; });
      slider.addEventListener('mouseup', ()=>{ isDown = false; slider.style.cursor = 'grab'; });
      slider.addEventListener('mousemove', (e)=>{
        if(!isDown) return;
        e.preventDefault();
        const x = e.pageX - slider.offsetLeft;
        const walk = (x - startX) * 2;
        slider.scrollLeft = scrollLeft - walk;
      });
      slider.style.cursor = 'grab';
    })();

    // Floating website card: show when hitting Workbench; stays fixed as you scroll
    (function(){
      const el = document.getElementById('web-float');
      if(!el) return;
      const edge = el.querySelector('.web-edge');
      function setCollapsed(v){
        el.classList.toggle('collapsed', v);
        el.setAttribute('aria-expanded', (!v).toString());
        try{ sessionStorage.setItem('webFloatCollapsed', v? '1':'0'); }catch(_){ }
      }
      // restore collapsed state
      let restored = false;
      try{ const saved = sessionStorage.getItem('webFloatCollapsed'); if(saved!=null){ setCollapsed(saved==='1'); restored=true; } }catch(_){ }
      let wasVisible = false;
      // collapse when clicking edge while open
      edge?.addEventListener('click', (e)=>{ e.stopPropagation(); setCollapsed(!el.classList.contains('collapsed')); try{ el.classList.remove('hint-cycling'); sessionStorage.setItem('webFloatHinted','1'); }catch(_){ } });
      // Click behavior: expand when collapsed; otherwise collapse if not clicking an action control
      el.addEventListener('click', (e)=>{
        if(el.classList.contains('collapsed')){ setCollapsed(false); try{ el.classList.remove('hint-cycling'); sessionStorage.setItem('webFloatHinted','1'); }catch(_){ } return; }
        const isAction = e.target.closest('a,button');
        if(!isAction){ setCollapsed(true); try{ el.classList.remove('hint-cycling'); sessionStorage.setItem('webFloatHinted','1'); }catch(_){ } }
      });
      function onScroll(){
        const proj = document.getElementById('projects');
        if(!proj) return;
        const top = proj.getBoundingClientRect().top + window.scrollY;
        const shouldShow = window.scrollY + 40 >= top;
        if(shouldShow){
          el.classList.add('show');
          if(!wasVisible){
            // first time shown this session: default to collapsed if not restored
            if(!restored){ setCollapsed(true); }
            // start hint cycle once per session (glow 3s, rest 3s)
            try{
              if(sessionStorage.getItem('webFloatHinted')!=='1'){
                el.classList.add('hint-cycling');
              }
            }catch(_){ /* ignore */ }
          }
          wasVisible = true;
        } else {
          el.classList.remove('show');
          wasVisible = false;
        }
      }
      window.addEventListener('scroll', onScroll, {passive:true});
      onScroll();
    })();

    // Tabs: focus areas
    (function(){
      const list = document.querySelector('.ftablist');
      if(!list) return;
      const tabs = Array.from(list.querySelectorAll('.ftab'));
      const panels = tabs.map(t => document.getElementById(t.getAttribute('aria-controls')));
      function select(idx){
        tabs.forEach((t,i)=>{
          const sel = i===idx;
          t.setAttribute('aria-selected', sel);
          t.tabIndex = sel? 0 : -1;
          if(panels[i]) panels[i].hidden = !sel;
        });
        tabs[idx].focus({preventScroll:true});
      }
      tabs.forEach((t,idx)=>{
        t.addEventListener('click', ()=> select(idx));
        t.addEventListener('keydown', (e)=>{
          if(e.key==='ArrowDown' || e.key==='ArrowRight'){ e.preventDefault(); select((idx+1)%tabs.length); }
          if(e.key==='ArrowUp' || e.key==='ArrowLeft'){ e.preventDefault(); select((idx-1+tabs.length)%tabs.length); }
          if(e.key==='Home'){ e.preventDefault(); select(0); }
          if(e.key==='End'){ e.preventDefault(); select(tabs.length-1); }
        });
      });
    })();

    // Mail modal logic (subject/message ‚Üí mailto)
    (function(){
      const modal = document.getElementById('mail-modal');
      if(!modal) return;
      const nameEl = document.getElementById('mail-name');
      const fromEl = document.getElementById('mail-from');
      const subjectEl = document.getElementById('mail-subject');
      const bodyEl = document.getElementById('mail-body');
      const form = document.getElementById('mail-form');
      const honeypot = document.getElementById('mail-website');
      const closeBtn = modal.querySelector('.modal-close');
      const cancelBtn = document.getElementById('mail-cancel');
      const openEmailBtn = document.getElementById('mail-open-email');
      const contactBtn = document.getElementById('contact-btn');
      const webBtn = document.getElementById('web-quote-float');
      const applyInvoice = document.getElementById('apply-invoice');
      const applyLearning = document.getElementById('apply-learning');
      const applyPdf = document.getElementById('apply-pdf');
      const applyScheduling = document.getElementById('apply-scheduling');
      const pilotBtn = document.getElementById('btn-pilot');
      const statusEl = document.getElementById('mail-status');
      let lastFocus = null;
      let targetKind = 'info'; // 'info' or 'web'

      function open(subject='General inquiry', kind='info', bodyText=''){
        lastFocus = document.activeElement;
        modal.classList.add('show');
        modal.setAttribute('aria-hidden','false');
        // reset fields each open
        (nameEl.value = ''), (fromEl.value = '');
        subjectEl.value = subject;
        bodyEl.value = bodyText || '';
        targetKind = kind;
        // update title per kind
        const title = document.getElementById('mail-title');
        if(title){ title.textContent = kind==='web' ? 'Website project inquiry' : 'Send a message'; }
        setTimeout(()=> (bodyText ? bodyEl.focus() : subjectEl.focus()), 0);
        document.addEventListener('keydown', onKey);
      }
      function close(){
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden','true');
        document.removeEventListener('keydown', onKey);
        if(lastFocus) lastFocus.focus();
      }
      function onKey(e){ if(e.key==='Escape') close(); }
      modal.addEventListener('click', (e)=>{ if(e.target===modal) close(); });
      closeBtn?.addEventListener('click', close);
      cancelBtn?.addEventListener('click', close);
      
      // "Open in email app" button - skip form, go straight to mailto
      openEmailBtn?.addEventListener('click', (e)=>{
        e.preventDefault();
        const from = fromEl.value.trim();
        const subj = subjectEl.value.trim() || 'Inquiry from website';
        const body = bodyEl.value.trim() || 'Your message here...';
        const name = nameEl.value.trim();
        const toAddr = targetKind==='web' ? 'web@frozenriversoftware.com' : 'info@frozenriversoftware.com';
        const mailto = `mailto:${toAddr}?subject=${encodeURIComponent(subj)}&body=${encodeURIComponent(body + (from? '\n\nFrom: ' + from : '') + (name? '\nName: ' + name : ''))}`;
        window.location.href = mailto;
        close();
      });

      contactBtn?.addEventListener('click', (e)=>{ e.preventDefault(); open('Inquiry from website', 'info'); });
      webBtn?.addEventListener('click', (e)=>{ e.preventDefault(); open('Website project inquiry', 'web'); });
      
      // Project-specific applications
      applyInvoice?.addEventListener('click', (e)=>{ 
        e.preventDefault(); 
        open('Early Access: Invoice & Receipt Scanner', 'info', 'Hi,\n\nI\'m interested in early access to the Invoice & Receipt Scanner. I saw the roadmap on your website and would love to help test it.\n\nMy business/use case:\nI work in [your industry/business type] and deal with [number] invoices/receipts per month. My biggest pain point is [data entry/organization/searching/etc].\n\nWhat I\'d help test:\n- Document scanning and OCR accuracy\n- AI learning on my vendor formats\n- Mobile capture workflow\n- [Anything else specific]\n\nContact info:\nName: \nEmail: \nPhone (optional): \n\nThanks!'); 
      });
      
      applyLearning?.addEventListener('click', (e)=>{ 
        e.preventDefault(); 
        open('Help Test AI Learning System', 'info', 'Hi,\n\nI\'d like to help test the aggregated learning system. I have real business documents that could help train the AI.\n\nDocument types I work with:\n- Invoices from: [list your regular vendors]\n- Receipts from: [hardware stores, suppliers, etc]\n- Volume: About [number] documents per month\n- Formats: [PDF, photos, scanned, etc]\n\nWhy I\'m interested:\n[What problem you\'re trying to solve]\n\nContact info:\nName: \nEmail: \nBusiness: \n\nThanks!'); 
      });
      
      applyPdf?.addEventListener('click', (e)=>{ 
        e.preventDefault(); 
        open('Beta Testing: PDF Measurement Tool', 'info', 'Hi,\n\nI\'d like to beta test the PDF measurement tool. I work with scaled drawings and could provide real-world testing.\n\nHow I\'d use it:\n- [Takeoffs/estimates/planning/verification]\n- Document types: [architectural, mechanical, electrical, etc]\n- Frequency: [How often you\'d use it]\n\nCurrent workflow:\n[What you use now and pain points]\n\nSystem info:\nOS: [Windows/Mac/Linux]\nScreen size: [laptop/desktop/multiple monitors]\n\nContact info:\nName: \nEmail: \nCompany: \n\nThanks!'); 
      });
      
      applyScheduling?.addEventListener('click', (e)=>{ 
        e.preventDefault(); 
        open('Notify Me: Job Scheduling App', 'info', 'Hi,\n\nI\'m interested in the job scheduling app and would like to be notified when development resumes.\n\nMy business:\n- Type: [electrical/HVAC/plumbing/etc]\n- Team size: [number of people]\n- Jobs per month: [volume]\n\nCurrent pain points:\n- [Scheduling chaos/dispatch issues/crew coordination/etc]\n\nFeatures I need most:\n- [What would help your business]\n\nPlease notify me when:\n[ ] Development resumes\n[ ] Pilot testing opens\n[ ] Public preview launches\n\nContact info:\nName: \nEmail: \nPhone: \nCompany: \n\nThanks!'); 
      });
      
      pilotBtn?.addEventListener('click', (e)=>{ 
        e.preventDefault(); 
        open('Volunteer for Pilot Testing', 'info', 'Hi,\n\nI\'d like to volunteer for pilot testing of your tools. I saw the roadmap and I\'m interested in helping provide real-world feedback.\n\nMy business/background:\n- Industry: [trades/small business/other]\n- Team size: [number]\n- Current tools: [what you use now]\n\nTools I\'m interested in testing:\n[ ] Invoice & Receipt Scanner\n[ ] AI Learning System\n[ ] PDF Measurement Tool\n[ ] Job Scheduling (when it resumes)\n\nWhat I can contribute:\n- [Real documents/feedback/bug reports/use case testing]\n\nAvailability:\n- Time commitment: [hours per week]\n- Start date: [when you could start]\n\nContact info:\nName: \nEmail: \nPhone: \nCompany: \n\nThanks for building useful tools!'); 
      });

      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        if(honeypot && honeypot.value){ return; }
        
        // Validate email
        const from = fromEl.value.trim();
        if(!from){
          statusEl.style.display='block';
          statusEl.textContent='Please enter your email address.';
          statusEl.style.color='#ff6b6b';
          fromEl.focus();
          return;
        }
        
        const subj = subjectEl.value.trim() || 'Inquiry from website';
        const body = bodyEl.value.trim() || 'Hi,\n\n[Your message here]\n\nThanks';
        const name = nameEl.value.trim();
        const endpoint = targetKind==='web' ? (form.dataset.endpointWeb||'') : (form.dataset.endpoint||'');
        const toAddr = targetKind==='web' ? 'web@frozenriversoftware.com' : 'info@frozenriversoftware.com';
        // If a form endpoint is configured for this kind, try to POST it; otherwise mailto fallback
        if(endpoint){
          statusEl.style.display='block';
          statusEl.textContent='Sending‚Ä¶';
          try{
            const res = await fetch(endpoint, { method:'POST', headers:{'Accept':'application/json','Content-Type':'application/json'}, body: JSON.stringify({ name, email: from, message: body, _subject: subj, _replyto: from, to: toAddr }) });
            if(res.ok){ statusEl.textContent='Thanks ‚Äî message sent.'; setTimeout(()=>{ statusEl.style.display='none'; close(); }, 1200); return; }
            statusEl.textContent='Could not send. Opening your email client‚Ä¶';
          }catch(_){ statusEl.textContent='Could not send. Opening your email client‚Ä¶'; }
        }
        const mailto = `mailto:${toAddr}?subject=${encodeURIComponent(subj)}&body=${encodeURIComponent(body + (from? '\n\nFrom: ' + from : '') + (name? '\nName: ' + name : ''))}`;
        window.location.href = mailto;
        setTimeout(close, 300);
      });
    })();

    // One‚Äëpager: direct PDF (handled by anchor target="_blank")
  </script>
</body>
</html>
